<!DOCTYPE html>
<html data-precompiled=true lang="en" data-dtinth="true">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Getting Tailwind CSS 4 (alpha 14) to run in the browser | notes.dt.in.th</title><meta property="og:title" content="Getting Tailwind CSS 4 (alpha 14) to run in the browser" data-source="note">
<meta property="og:image" content="https://screenshot.source.in.th/image/_/notes/TailwindCSS4Alpha14Notes" data-source="note">
<meta property="og:image:width" content="1800" data-source="note">
<meta property="og:image:height" content="1680" data-source="note">
<link rel="canonical" href="https://notes.dt.in.th/TailwindCSS4Alpha14Notes" data-source="note"><style id="note-styles">/* layer: default */
.my[data-v-8c9498c0]{margin-top:1rem;margin-bottom:1rem;}
.inline[data-v-8c9498c0]{display:inline;}
.flex[data-v-8c9498c0]{display:flex;}
.dark .dark\:bg-black[data-v-8c9498c0]{--un-bg-opacity:1;background-color:rgb(0 0 0 / var(--un-bg-opacity));}
.hover\:underline[data-v-8c9498c0]:hover{text-decoration-line:underline;}
.filter[data-v-8c9498c0]{filter:var(--un-blur) var(--un-brightness) var(--un-contrast) var(--un-drop-shadow) var(--un-grayscale) var(--un-hue-rotate) var(--un-invert) var(--un-saturate) var(--un-sepia);}
@media (min-width: 768px){
.md\:grid[data-v-8c9498c0]{display:grid;}
}</style>
    <script
      async
      src="https://cdn.jsdelivr.net/npm/iconify-icon@2.1.0/dist/iconify-icon.min.js"
      integrity="sha256-dY2Ug42wyv3rl+sLVKEg3jbPs8f+hi7tmJ836AxVDwI="
      crossorigin="anonymous"
    ></script>
    <script
      async
      src="https://cdn.jsdelivr.net/npm/blurhash-image@1.0.1/blurhash-image.min.js"
      integrity="sha256-qrUUgTGk7xA7iVCwraHNQjwy2JryA0K4L3DL4qidagQ="
      crossorigin="anonymous"
    ></script>
    <script type="module" crossorigin src="/runtime/index.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/supabase-CjkNZD6A.js">
    <link rel="stylesheet" crossorigin href="/runtime/index.css">
  </head>
  <body class="bg-#252423 text-#e9e8e7 antialiased">
    <header class="h-[58px] bg-#090807 border-b border-#454443 z-20 flex">
      <div class="flex items-center pl-[18px] flex-none">
        <a
          class="flex items-center text-#8b8685 hover:text-#ffffbb text-lg"
          href="/"
          >notes.dt.in.th</a
        >
      </div>
      <div
        class="flex-1 flex items-center text-#8b8685 [&_a:hover]:text-#ffffbb overflow-hidden"
        id="headerMiddle"
      >
        <div class="px-2 flex-none">›</div><div class="truncate"><a title="Web Platform (topic)" href="WebPlatform">Web Platform</a></div><div class="px-2 flex-none">›</div><div class="truncate"><a title="CSS (topic)" href="CSS">CSS</a></div><div class="px-2 flex-none">›</div><div class="truncate"><a title="Tailwind CSS (topic)" href="TailwindCSS">Tailwind CSS</a></div>
      </div>
      <div
        class="flex items-center px-[18px] flex-none gap-4"
        id="headerToolbar"
      ></div>
    </header>
    <div class="h-entry">
      <main class="bg-#353433" id="main">
        <div class="notes-layout-container mx-auto p-6 py-12" id="mainContents">
          <div class="prose e-content" id="noteContents"><!--[--><h1 id="getting-tailwind-css-4-alpha-14-to-run-in-the-browser" data-v-8c9498c0><a aria-hidden="true" tabindex="-1" href="#getting-tailwind-css-4-alpha-14-to-run-in-the-browser" data-v-8c9498c0><span class="icon icon-link" data-v-8c9498c0></span></a>Getting Tailwind CSS 4 (alpha 14) to run in the browser</h1><p data-v-8c9498c0><a href="https://tailwindcss.com/blog/tailwindcss-v4-alpha" data-v-8c9498c0>Tailwind CSS 4 Alpha</a> has been recently open sourced, so I thought I&#39;d take a look at it. Here are my notes based on studying its source code. <strong data-v-8c9498c0>My goal was to investigate how to run <a href="TailwindCSS" data-v-8c9498c0>Tailwind CSS</a> 4 inside a browser.</strong> Specifically, given an HTML input, I want to generate the corresponding CSS classes. The commit <a href="https://github.com/tailwindlabs/tailwindcss/tree/ce0a7347dac10f8f10fc29e731e5ae1682752e3a" data-v-8c9498c0><code data-v-8c9498c0>ce0a734</code></a> is being studied.</p><p data-v-8c9498c0>Note that when the final version of Tailwind CSS 4 is released, the following notes may be <em data-v-8c9498c0>way</em> outdated.</p><h2 id="overview" data-v-8c9498c0><a aria-hidden="true" tabindex="-1" href="#overview" data-v-8c9498c0><span class="icon icon-link" data-v-8c9498c0></span></a>Overview</h2><p data-v-8c9498c0><img src="https://im.dt.in.th/ipfs/bafybeibv4brwypnln6ib3cf4xrbblagoeezkizsfprzfdgeiq62juk7ty4/image.webp" alt="" data-v-8c9498c0></p><h2 id="the-process" data-v-8c9498c0><a aria-hidden="true" tabindex="-1" href="#the-process" data-v-8c9498c0><span class="icon icon-link" data-v-8c9498c0></span></a>The process</h2><ol data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><code data-v-8c9498c0>@tailwindcss/oxide</code> is used to <a href="https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/crates/oxide/tests/auto_content.rs#L286-L309" data-v-8c9498c0>scan the project files to look for Tailwind CSS utility classes</a> (internally called “candidates”). It is written in Rust. Although it has been marketed as a unified toolchain, <a href="https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/crates/node/src/lib.rs#L1" data-v-8c9498c0>this is all it does for now</a>. As of writing, <a href="https://github.com/tailwindlabs/tailwindcss/issues/13133" data-v-8c9498c0>it only works in Node.js, and is not yet runnable on the web browser</a>.</p><p data-v-8c9498c0>Thanks to Oxide’s currently limited scope (it just parses HTML files to extract names of utility classes), we can borrow Tailwind CSS v3’s implementation (which is written in TypeScript and can be trivially used in the browser) and use it in place of Oxide for the time being:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#E1E4E8;" data-v-8c9498c0> { </span><span style="color:#FFAB70;" data-v-8c9498c0>defaultExtractor</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>createDefaultExtractor</span><span style="color:#E1E4E8;" data-v-8c9498c0> } </span><span style="color:#F97583;" data-v-8c9498c0>=</span><span style="color:#F97583;" data-v-8c9498c0> await</span><span style="color:#B392F0;" data-v-8c9498c0> import</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/lib/lib/defaultExtractor.js/+esm&#39;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>)</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> defaultExtractor</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#B392F0;" data-v-8c9498c0> createDefaultExtractor</span><span style="color:#E1E4E8;" data-v-8c9498c0>({</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  tailwindConfig: { separator: </span><span style="color:#9ECBFF;" data-v-8c9498c0>&#39;:&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0> },</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>})</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> inputHtml</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#9ECBFF;" data-v-8c9498c0> `</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &lt;div class=&quot;flex md:grid hover:underline dark:bg-black&quot;&gt;&lt;/div&gt;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>`</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> candidates</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#E1E4E8;" data-v-8c9498c0> [</span><span style="color:#F97583;" data-v-8c9498c0>...new</span><span style="color:#B392F0;" data-v-8c9498c0> Set</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span><span style="color:#B392F0;" data-v-8c9498c0>defaultExtractor</span><span style="color:#E1E4E8;" data-v-8c9498c0>(inputHtml))]</span></span></code></pre><p data-v-8c9498c0>The resulting candidate array looks like this:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> candidates</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#E1E4E8;" data-v-8c9498c0> [</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;div&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;class&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;flex&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;md:grid&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;hover:underline&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;dark:bg-black&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;/div&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>]</span></span></code></pre><p data-v-8c9498c0>As you can see, some candidates are not a valid utility class name (e.g., <code data-v-8c9498c0>div</code>, <code data-v-8c9498c0>class</code>, <code data-v-8c9498c0>/div</code>). It is up to the next step to filter out the invalid candidates.</p><details data-v-8c9498c0><summary data-v-8c9498c0>Extracting utility classes using the real Oxide package (Node.js only)</summary><p data-v-8c9498c0>Here’s how this step was normally done in Node.js using the real Oxide package:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>mkdir</span><span style="color:#79B8FF;" data-v-8c9498c0> -p</span><span style="color:#9ECBFF;" data-v-8c9498c0> input</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>echo</span><span style="color:#9ECBFF;" data-v-8c9498c0> &#39;&lt;div class=&quot;flex md:grid hover:underline dark:bg-black&quot;&gt;&lt;/div&gt;&#39;</span><span style="color:#F97583;" data-v-8c9498c0> &gt;</span><span style="color:#9ECBFF;" data-v-8c9498c0> input/index.html</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>pnpm</span><span style="color:#9ECBFF;" data-v-8c9498c0> add</span><span style="color:#9ECBFF;" data-v-8c9498c0> @tailwindcss/oxide@4.0.0-alpha.14</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>echo</span><span style="color:#9ECBFF;" data-v-8c9498c0> &#39;import { scanDir } from &quot;@tailwindcss/oxide&quot;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>console.log(scanDir({ base: &quot;input&quot; }).candidates)&#39;</span><span style="color:#F97583;" data-v-8c9498c0> &gt;</span><span style="color:#9ECBFF;" data-v-8c9498c0> scan.mjs</span></span></code></pre><p data-v-8c9498c0>This generates a list of candidates like this:</p><pre data-v-8c9498c0><code data-v-8c9498c0>[
  &#39;class&#39;,
  &#39;dark:bg-black&#39;,
  &#39;div&#39;,
  &#39;flex&#39;,
  &#39;hover:underline&#39;,
  &#39;md:grid&#39;
]
</code></pre></details></li><li data-v-8c9498c0><p data-v-8c9498c0>The <code data-v-8c9498c0>tailwindcss</code> package takes a CSS configuration file (in CSS syntax) and a list of candidates to generate an intermediate CSS file. It is written in TypeScript, and so can be used in the browser like this:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> tailwindcss</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#F97583;" data-v-8c9498c0> await</span><span style="color:#B392F0;" data-v-8c9498c0> import</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@4.0.0-alpha.14/dist/lib.mjs&#39;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>)</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// Yoinked from:</span></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/packages/tailwindcss/src/index.test.ts#L9</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> sourceCss</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#9ECBFF;" data-v-8c9498c0> `</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  @theme {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>    --color-black: #000;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>    --breakpoint-md: 768px;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  @tailwind utilities;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>`</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> intermediateCss</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#E1E4E8;" data-v-8c9498c0> tailwindcss.</span><span style="color:#B392F0;" data-v-8c9498c0>compile</span><span style="color:#E1E4E8;" data-v-8c9498c0>(sourceCss).</span><span style="color:#B392F0;" data-v-8c9498c0>build</span><span style="color:#E1E4E8;" data-v-8c9498c0>(candidates)</span></span></code></pre><p data-v-8c9498c0>The resulting intermediate CSS looks like this:</p><!-- prettier-ignore --><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>/*! tailwindcss v4.0.0-alpha.14 | MIT License | https://tailwindcss.com */</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>:root</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#FFAB70;" data-v-8c9498c0>  --color-black</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>#000</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#FFAB70;" data-v-8c9498c0>  --breakpoint-md</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>768</span><span style="color:#F97583;" data-v-8c9498c0>px</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.flex</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>  display</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>flex</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.hover</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>underline</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  &amp;:hover {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    text-decoration-line: </span><span style="color:#79B8FF;" data-v-8c9498c0>underline</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.md</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>grid</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  @</span><span style="color:#79B8FF;" data-v-8c9498c0>media</span><span style="color:#E1E4E8;" data-v-8c9498c0> (</span><span style="color:#79B8FF;" data-v-8c9498c0>width</span><span style="color:#E1E4E8;" data-v-8c9498c0> &gt;= 768</span><span style="color:#79B8FF;" data-v-8c9498c0>px</span><span style="color:#E1E4E8;" data-v-8c9498c0>) {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>    display</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>grid</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.dark</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>bg-black</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  @</span><span style="color:#79B8FF;" data-v-8c9498c0>media</span><span style="color:#E1E4E8;" data-v-8c9498c0> (</span><span style="color:#79B8FF;" data-v-8c9498c0>prefers-color-scheme</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>dark</span><span style="color:#E1E4E8;" data-v-8c9498c0>) {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>    background-color</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>var</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span><span style="color:#FFAB70;" data-v-8c9498c0>--color-black</span><span style="color:#E1E4E8;" data-v-8c9498c0>, </span><span style="color:#79B8FF;" data-v-8c9498c0>#000</span><span style="color:#E1E4E8;" data-v-8c9498c0>);</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span></code></pre><p data-v-8c9498c0>As you can see, the intermediate CSS has some cutting edge syntax (such as nesting and <code data-v-8c9498c0>@media</code> inside a CSS ruleset). This is because the intermediate CSS is meant to be later processed by the next step.</p><p data-v-8c9498c0>It is important to note that in Tailwind CSS v4, it does not come with any default colors. This is part of the <a href="https://github.com/tailwindlabs/tailwindcss/blob/cd4711cc21b8790d52ff62ffa8bfc03d4e031fdb/packages/tailwindcss/theme.css" data-v-8c9498c0>default theme</a> which can be imported using:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>@import</span><span style="color:#9ECBFF;" data-v-8c9498c0> &#39;tailwindcss&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span></code></pre><p data-v-8c9498c0>However, in the browser, we don’t have access to the filesystem. Also, Lightning CSS (next step) doesn’t support bundling in the browser. Therefore, to include Tailwind CSS v4’s default theme, we have to inline it into our CSS. Here’s how to fetch the default theme from jsDelivr:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> defaultTheme</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#F97583;" data-v-8c9498c0> await</span><span style="color:#B392F0;" data-v-8c9498c0> fetch</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@4.0.0-alpha.14/theme.css&#39;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>).</span><span style="color:#B392F0;" data-v-8c9498c0>then</span><span style="color:#E1E4E8;" data-v-8c9498c0>((</span><span style="color:#FFAB70;" data-v-8c9498c0>res</span><span style="color:#E1E4E8;" data-v-8c9498c0>) </span><span style="color:#F97583;" data-v-8c9498c0>=&gt;</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>  if</span><span style="color:#E1E4E8;" data-v-8c9498c0> (</span><span style="color:#F97583;" data-v-8c9498c0>!</span><span style="color:#E1E4E8;" data-v-8c9498c0>res.ok) {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>    throw</span><span style="color:#F97583;" data-v-8c9498c0> new</span><span style="color:#B392F0;" data-v-8c9498c0> Error</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span><span style="color:#9ECBFF;" data-v-8c9498c0>&#39;Failed to fetch default theme&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>)</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>  return</span><span style="color:#E1E4E8;" data-v-8c9498c0> res.</span><span style="color:#B392F0;" data-v-8c9498c0>text</span><span style="color:#E1E4E8;" data-v-8c9498c0>()</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>})</span></span></code></pre></li><li data-v-8c9498c0><p data-v-8c9498c0><a href="https://lightningcss.dev/" data-v-8c9498c0>Lightning CSS</a> takes the CSS from step 2 and performs <a href="https://lightningcss.dev/transpilation.html" data-v-8c9498c0>various postprocessing steps</a> on the CSS, such as vendor prefixing and converting nested selectors to flat selectors. Like Oxide, it is written in Rust, but fortunately, <a href="https://lightningcss.dev/docs.html#from-deno-or-in-browser" data-v-8c9498c0>it has been compiled to WebAssembly and can be used in the browser</a> like this:</p><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> lightningcss</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#F97583;" data-v-8c9498c0> await</span><span style="color:#B392F0;" data-v-8c9498c0> import</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span></span>
<span class="line" data-v-8c9498c0><span style="color:#9ECBFF;" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/lightningcss-wasm@1.24.1/+esm&#39;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>)</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// Initialize the WASM module</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>await</span><span style="color:#E1E4E8;" data-v-8c9498c0> lightningcss.</span><span style="color:#B392F0;" data-v-8c9498c0>default</span><span style="color:#E1E4E8;" data-v-8c9498c0>()</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// Yoinked from</span></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// - https://github.com/tailwindlabs/tailwindcss/blob/cd4711cc21b8790d52ff62ffa8bfc03d4e031fdb/packages/%40tailwindcss-cli/src/commands/build/index.ts#L258-L280</span></span>
<span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>// - https://lightningcss.dev/docs.html#from-deno-or-in-browser</span></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>const</span><span style="color:#79B8FF;" data-v-8c9498c0> resultCss</span><span style="color:#F97583;" data-v-8c9498c0> =</span><span style="color:#F97583;" data-v-8c9498c0> new</span><span style="color:#B392F0;" data-v-8c9498c0> TextDecoder</span><span style="color:#E1E4E8;" data-v-8c9498c0>().</span><span style="color:#B392F0;" data-v-8c9498c0>decode</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  lightningcss.</span><span style="color:#B392F0;" data-v-8c9498c0>transform</span><span style="color:#E1E4E8;" data-v-8c9498c0>({</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    filename: </span><span style="color:#9ECBFF;" data-v-8c9498c0>&#39;input.css&#39;</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    code: </span><span style="color:#F97583;" data-v-8c9498c0>new</span><span style="color:#B392F0;" data-v-8c9498c0> TextEncoder</span><span style="color:#E1E4E8;" data-v-8c9498c0>().</span><span style="color:#B392F0;" data-v-8c9498c0>encode</span><span style="color:#E1E4E8;" data-v-8c9498c0>(intermediateCss),</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    drafts: {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>      customMedia: </span><span style="color:#79B8FF;" data-v-8c9498c0>true</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    },</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    nonStandard: {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>      deepSelectorCombinator: </span><span style="color:#79B8FF;" data-v-8c9498c0>true</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    },</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    include: lightningcss.Features.Nesting,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    exclude: lightningcss.Features.LogicalProperties,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    targets: {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>      safari: (</span><span style="color:#79B8FF;" data-v-8c9498c0>16</span><span style="color:#F97583;" data-v-8c9498c0> &lt;&lt;</span><span style="color:#79B8FF;" data-v-8c9498c0> 16</span><span style="color:#E1E4E8;" data-v-8c9498c0>) </span><span style="color:#F97583;" data-v-8c9498c0>|</span><span style="color:#E1E4E8;" data-v-8c9498c0> (</span><span style="color:#79B8FF;" data-v-8c9498c0>4</span><span style="color:#F97583;" data-v-8c9498c0> &lt;&lt;</span><span style="color:#79B8FF;" data-v-8c9498c0> 8</span><span style="color:#E1E4E8;" data-v-8c9498c0>),</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    },</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>    errorRecovery: </span><span style="color:#79B8FF;" data-v-8c9498c0>true</span><span style="color:#E1E4E8;" data-v-8c9498c0>,</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }).code</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>)</span></span></code></pre><p data-v-8c9498c0>The result looks like this:</p><!-- prettier-ignore --><pre class="shiki github-dark" style="background-color:#252423;color:#e1e4e8;" tabindex="0" data-v-8c9498c0><code data-v-8c9498c0><span class="line" data-v-8c9498c0><span style="color:#6A737D;" data-v-8c9498c0>/*! tailwindcss v4.0.0-alpha.14 | MIT License | https://tailwindcss.com */</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>:root</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#FFAB70;" data-v-8c9498c0>  --color-black</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>#000</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#FFAB70;" data-v-8c9498c0>  --breakpoint-md</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>768</span><span style="color:#F97583;" data-v-8c9498c0>px</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.flex</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>  display</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>flex</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>.hover</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>underline:hover</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>  text-decoration-line</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>underline</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>@media</span><span style="color:#E1E4E8;" data-v-8c9498c0> (</span><span style="color:#79B8FF;" data-v-8c9498c0>width</span><span style="color:#F97583;" data-v-8c9498c0> &gt;=</span><span style="color:#79B8FF;" data-v-8c9498c0> 768</span><span style="color:#F97583;" data-v-8c9498c0>px</span><span style="color:#E1E4E8;" data-v-8c9498c0>) {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>  .md</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>grid</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>    display</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>grid</span><span style="color:#E1E4E8;" data-v-8c9498c0>;</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span>
<span class="line" data-v-8c9498c0></span>
<span class="line" data-v-8c9498c0><span style="color:#F97583;" data-v-8c9498c0>@media</span><span style="color:#E1E4E8;" data-v-8c9498c0> (prefers-color-scheme: dark) {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#B392F0;" data-v-8c9498c0>  .dark</span><span style="color:#79B8FF;" data-v-8c9498c0>\:</span><span style="color:#B392F0;" data-v-8c9498c0>bg-black</span><span style="color:#E1E4E8;" data-v-8c9498c0> {</span></span>
<span class="line" data-v-8c9498c0><span style="color:#79B8FF;" data-v-8c9498c0>    background-color</span><span style="color:#E1E4E8;" data-v-8c9498c0>: </span><span style="color:#79B8FF;" data-v-8c9498c0>var</span><span style="color:#E1E4E8;" data-v-8c9498c0>(</span><span style="color:#FFAB70;" data-v-8c9498c0>--color-black</span><span style="color:#E1E4E8;" data-v-8c9498c0>, </span><span style="color:#79B8FF;" data-v-8c9498c0>#000</span><span style="color:#E1E4E8;" data-v-8c9498c0>);</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>  }</span></span>
<span class="line" data-v-8c9498c0><span style="color:#E1E4E8;" data-v-8c9498c0>}</span></span></code></pre></li></ol><!--]--></div>
        </div>
      </main>
      <footer>
        <div
          class="notes-layout-container mx-auto py-4 px-6 text-#8b8685 text-right text-sm"
          id="footerContents"
        >
          <notes-page-footer></notes-page-footer>
        </div>
      </footer>
    </div>
    <script>
window.precompiledNoteBehavior = function(require, exports, module, Vue) {"use strict";Object.defineProperty(exports, "__esModule", {value: true});const __sfc__ = {};
var _vue = require('vue');

const _withScopeId = n => (_vue.pushScopeId.call(void 0, "data-v-8c9498c0"),n=n(),_vue.popScopeId.call(void 0, ),n)
const _hoisted_1 = /*#__PURE__*/_vue.createStaticVNode.call(void 0, "<h1 id=\"getting-tailwind-css-4-alpha-14-to-run-in-the-browser\" data-v-8c9498c0><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#getting-tailwind-css-4-alpha-14-to-run-in-the-browser\" data-v-8c9498c0><span class=\"icon icon-link\" data-v-8c9498c0></span></a>Getting Tailwind CSS 4 (alpha 14) to run in the browser</h1><p data-v-8c9498c0><a href=\"https://tailwindcss.com/blog/tailwindcss-v4-alpha\" data-v-8c9498c0>Tailwind CSS 4 Alpha</a> has been recently open sourced, so I thought I&#39;d take a look at it. Here are my notes based on studying its source code. <strong data-v-8c9498c0>My goal was to investigate how to run <a href=\"TailwindCSS\" data-v-8c9498c0>Tailwind CSS</a> 4 inside a browser.</strong> Specifically, given an HTML input, I want to generate the corresponding CSS classes. The commit <a href=\"https://github.com/tailwindlabs/tailwindcss/tree/ce0a7347dac10f8f10fc29e731e5ae1682752e3a\" data-v-8c9498c0><code data-v-8c9498c0>ce0a734</code></a> is being studied.</p><p data-v-8c9498c0>Note that when the final version of Tailwind CSS 4 is released, the following notes may be <em data-v-8c9498c0>way</em> outdated.</p><h2 id=\"overview\" data-v-8c9498c0><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#overview\" data-v-8c9498c0><span class=\"icon icon-link\" data-v-8c9498c0></span></a>Overview</h2><p data-v-8c9498c0><img src=\"https://im.dt.in.th/ipfs/bafybeibv4brwypnln6ib3cf4xrbblagoeezkizsfprzfdgeiq62juk7ty4/image.webp\" alt=\"\" data-v-8c9498c0></p><h2 id=\"the-process\" data-v-8c9498c0><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-process\" data-v-8c9498c0><span class=\"icon icon-link\" data-v-8c9498c0></span></a>The process</h2><ol data-v-8c9498c0><li data-v-8c9498c0><p data-v-8c9498c0><code data-v-8c9498c0>@tailwindcss/oxide</code> is used to <a href=\"https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/crates/oxide/tests/auto_content.rs#L286-L309\" data-v-8c9498c0>scan the project files to look for Tailwind CSS utility classes</a> (internally called “candidates”). It is written in Rust. Although it has been marketed as a unified toolchain, <a href=\"https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/crates/node/src/lib.rs#L1\" data-v-8c9498c0>this is all it does for now</a>. As of writing, <a href=\"https://github.com/tailwindlabs/tailwindcss/issues/13133\" data-v-8c9498c0>it only works in Node.js, and is not yet runnable on the web browser</a>.</p><p data-v-8c9498c0>Thanks to Oxide’s currently limited scope (it just parses HTML files to extract names of utility classes), we can borrow Tailwind CSS v3’s implementation (which is written in TypeScript and can be trivially used in the browser) and use it in place of Oxide for the time being:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> { </span><span style=\"color:#FFAB70;\" data-v-8c9498c0>defaultExtractor</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>createDefaultExtractor</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> } </span><span style=\"color:#F97583;\" data-v-8c9498c0>=</span><span style=\"color:#F97583;\" data-v-8c9498c0> await</span><span style=\"color:#B392F0;\" data-v-8c9498c0> import</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/lib/lib/defaultExtractor.js/+esm&#39;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>)</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> defaultExtractor</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#B392F0;\" data-v-8c9498c0> createDefaultExtractor</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>({</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  tailwindConfig: { separator: </span><span style=\"color:#9ECBFF;\" data-v-8c9498c0>&#39;:&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>})</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> inputHtml</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> `</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &lt;div class=&quot;flex md:grid hover:underline dark:bg-black&quot;&gt;&lt;/div&gt;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>`</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> candidates</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> [</span><span style=\"color:#F97583;\" data-v-8c9498c0>...new</span><span style=\"color:#B392F0;\" data-v-8c9498c0> Set</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span><span style=\"color:#B392F0;\" data-v-8c9498c0>defaultExtractor</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(inputHtml))]</span></span></code></pre><p data-v-8c9498c0>The resulting candidate array looks like this:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> candidates</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> [</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;div&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;class&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;flex&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;md:grid&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;hover:underline&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;dark:bg-black&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;/div&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>]</span></span></code></pre><p data-v-8c9498c0>As you can see, some candidates are not a valid utility class name (e.g., <code data-v-8c9498c0>div</code>, <code data-v-8c9498c0>class</code>, <code data-v-8c9498c0>/div</code>). It is up to the next step to filter out the invalid candidates.</p><details data-v-8c9498c0><summary data-v-8c9498c0>Extracting utility classes using the real Oxide package (Node.js only)</summary><p data-v-8c9498c0>Here’s how this step was normally done in Node.js using the real Oxide package:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>mkdir</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> -p</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> input</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>echo</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> &#39;&lt;div class=&quot;flex md:grid hover:underline dark:bg-black&quot;&gt;&lt;/div&gt;&#39;</span><span style=\"color:#F97583;\" data-v-8c9498c0> &gt;</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> input/index.html</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>pnpm</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> add</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> @tailwindcss/oxide@4.0.0-alpha.14</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>echo</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> &#39;import { scanDir } from &quot;@tailwindcss/oxide&quot;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>console.log(scanDir({ base: &quot;input&quot; }).candidates)&#39;</span><span style=\"color:#F97583;\" data-v-8c9498c0> &gt;</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> scan.mjs</span></span></code></pre><p data-v-8c9498c0>This generates a list of candidates like this:</p><pre data-v-8c9498c0><code data-v-8c9498c0>[\n  &#39;class&#39;,\n  &#39;dark:bg-black&#39;,\n  &#39;div&#39;,\n  &#39;flex&#39;,\n  &#39;hover:underline&#39;,\n  &#39;md:grid&#39;\n]\n</code></pre></details></li><li data-v-8c9498c0><p data-v-8c9498c0>The <code data-v-8c9498c0>tailwindcss</code> package takes a CSS configuration file (in CSS syntax) and a list of candidates to generate an intermediate CSS file. It is written in TypeScript, and so can be used in the browser like this:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> tailwindcss</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#F97583;\" data-v-8c9498c0> await</span><span style=\"color:#B392F0;\" data-v-8c9498c0> import</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@4.0.0-alpha.14/dist/lib.mjs&#39;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>)</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// Yoinked from:</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// https://github.com/tailwindlabs/tailwindcss/blob/ce0a7347dac10f8f10fc29e731e5ae1682752e3a/packages/tailwindcss/src/index.test.ts#L9</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> sourceCss</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> `</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  @theme {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>    --color-black: #000;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>    --breakpoint-md: 768px;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  @tailwind utilities;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>`</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> intermediateCss</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> tailwindcss.</span><span style=\"color:#B392F0;\" data-v-8c9498c0>compile</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(sourceCss).</span><span style=\"color:#B392F0;\" data-v-8c9498c0>build</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(candidates)</span></span></code></pre><p data-v-8c9498c0>The resulting intermediate CSS looks like this:</p><!-- prettier-ignore --><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>/*! tailwindcss v4.0.0-alpha.14 | MIT License | https://tailwindcss.com */</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>:root</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#FFAB70;\" data-v-8c9498c0>  --color-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>#000</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#FFAB70;\" data-v-8c9498c0>  --breakpoint-md</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>768</span><span style=\"color:#F97583;\" data-v-8c9498c0>px</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.flex</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>  display</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>flex</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.hover</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>underline</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  &amp;:hover {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    text-decoration-line: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>underline</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.md</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>grid</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  @</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>media</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>width</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> &gt;= 768</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>px</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>) {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>    display</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>grid</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.dark</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>bg-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  @</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>media</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>prefers-color-scheme</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>dark</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>) {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>    background-color</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>var</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span><span style=\"color:#FFAB70;\" data-v-8c9498c0>--color-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>, </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>#000</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span></code></pre><p data-v-8c9498c0>As you can see, the intermediate CSS has some cutting edge syntax (such as nesting and <code data-v-8c9498c0>@media</code> inside a CSS ruleset). This is because the intermediate CSS is meant to be later processed by the next step.</p><p data-v-8c9498c0>It is important to note that in Tailwind CSS v4, it does not come with any default colors. This is part of the <a href=\"https://github.com/tailwindlabs/tailwindcss/blob/cd4711cc21b8790d52ff62ffa8bfc03d4e031fdb/packages/tailwindcss/theme.css\" data-v-8c9498c0>default theme</a> which can be imported using:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>@import</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0> &#39;tailwindcss&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span></code></pre><p data-v-8c9498c0>However, in the browser, we don’t have access to the filesystem. Also, Lightning CSS (next step) doesn’t support bundling in the browser. Therefore, to include Tailwind CSS v4’s default theme, we have to inline it into our CSS. Here’s how to fetch the default theme from jsDelivr:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> defaultTheme</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#F97583;\" data-v-8c9498c0> await</span><span style=\"color:#B392F0;\" data-v-8c9498c0> fetch</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/tailwindcss@4.0.0-alpha.14/theme.css&#39;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>).</span><span style=\"color:#B392F0;\" data-v-8c9498c0>then</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>((</span><span style=\"color:#FFAB70;\" data-v-8c9498c0>res</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>) </span><span style=\"color:#F97583;\" data-v-8c9498c0>=&gt;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>  if</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (</span><span style=\"color:#F97583;\" data-v-8c9498c0>!</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>res.ok) {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>    throw</span><span style=\"color:#F97583;\" data-v-8c9498c0> new</span><span style=\"color:#B392F0;\" data-v-8c9498c0> Error</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span><span style=\"color:#9ECBFF;\" data-v-8c9498c0>&#39;Failed to fetch default theme&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>)</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>  return</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> res.</span><span style=\"color:#B392F0;\" data-v-8c9498c0>text</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>()</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>})</span></span></code></pre></li><li data-v-8c9498c0><p data-v-8c9498c0><a href=\"https://lightningcss.dev/\" data-v-8c9498c0>Lightning CSS</a> takes the CSS from step 2 and performs <a href=\"https://lightningcss.dev/transpilation.html\" data-v-8c9498c0>various postprocessing steps</a> on the CSS, such as vendor prefixing and converting nested selectors to flat selectors. Like Oxide, it is written in Rust, but fortunately, <a href=\"https://lightningcss.dev/docs.html#from-deno-or-in-browser\" data-v-8c9498c0>it has been compiled to WebAssembly and can be used in the browser</a> like this:</p><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> lightningcss</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#F97583;\" data-v-8c9498c0> await</span><span style=\"color:#B392F0;\" data-v-8c9498c0> import</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#9ECBFF;\" data-v-8c9498c0>  &#39;https://cdn.jsdelivr.net/npm/lightningcss-wasm@1.24.1/+esm&#39;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>)</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// Initialize the WASM module</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>await</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> lightningcss.</span><span style=\"color:#B392F0;\" data-v-8c9498c0>default</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>()</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// Yoinked from</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// - https://github.com/tailwindlabs/tailwindcss/blob/cd4711cc21b8790d52ff62ffa8bfc03d4e031fdb/packages/%40tailwindcss-cli/src/commands/build/index.ts#L258-L280</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>// - https://lightningcss.dev/docs.html#from-deno-or-in-browser</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>const</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> resultCss</span><span style=\"color:#F97583;\" data-v-8c9498c0> =</span><span style=\"color:#F97583;\" data-v-8c9498c0> new</span><span style=\"color:#B392F0;\" data-v-8c9498c0> TextDecoder</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>().</span><span style=\"color:#B392F0;\" data-v-8c9498c0>decode</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  lightningcss.</span><span style=\"color:#B392F0;\" data-v-8c9498c0>transform</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>({</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    filename: </span><span style=\"color:#9ECBFF;\" data-v-8c9498c0>&#39;input.css&#39;</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    code: </span><span style=\"color:#F97583;\" data-v-8c9498c0>new</span><span style=\"color:#B392F0;\" data-v-8c9498c0> TextEncoder</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>().</span><span style=\"color:#B392F0;\" data-v-8c9498c0>encode</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(intermediateCss),</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    drafts: {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>      customMedia: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>true</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    nonStandard: {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>      deepSelectorCombinator: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>true</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    include: lightningcss.Features.Nesting,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    exclude: lightningcss.Features.LogicalProperties,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    targets: {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>      safari: (</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>16</span><span style=\"color:#F97583;\" data-v-8c9498c0> &lt;&lt;</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> 16</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>) </span><span style=\"color:#F97583;\" data-v-8c9498c0>|</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>4</span><span style=\"color:#F97583;\" data-v-8c9498c0> &lt;&lt;</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> 8</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>),</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    },</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>    errorRecovery: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>true</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>,</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }).code</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>)</span></span></code></pre><p data-v-8c9498c0>The result looks like this:</p><!-- prettier-ignore --><pre class=\"shiki github-dark\" style=\"background-color:#252423;color:#e1e4e8;\" tabindex=\"0\" data-v-8c9498c0><code data-v-8c9498c0><span class=\"line\" data-v-8c9498c0><span style=\"color:#6A737D;\" data-v-8c9498c0>/*! tailwindcss v4.0.0-alpha.14 | MIT License | https://tailwindcss.com */</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>:root</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#FFAB70;\" data-v-8c9498c0>  --color-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>#000</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#FFAB70;\" data-v-8c9498c0>  --breakpoint-md</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>768</span><span style=\"color:#F97583;\" data-v-8c9498c0>px</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.flex</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>  display</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>flex</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>.hover</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>underline:hover</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>  text-decoration-line</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>underline</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>@media</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>width</span><span style=\"color:#F97583;\" data-v-8c9498c0> &gt;=</span><span style=\"color:#79B8FF;\" data-v-8c9498c0> 768</span><span style=\"color:#F97583;\" data-v-8c9498c0>px</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>) {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>  .md</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>grid</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>    display</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>grid</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>;</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span>\n<span class=\"line\" data-v-8c9498c0></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#F97583;\" data-v-8c9498c0>@media</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> (prefers-color-scheme: dark) {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#B392F0;\" data-v-8c9498c0>  .dark</span><span style=\"color:#79B8FF;\" data-v-8c9498c0>\\:</span><span style=\"color:#B392F0;\" data-v-8c9498c0>bg-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0> {</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#79B8FF;\" data-v-8c9498c0>    background-color</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>: </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>var</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>(</span><span style=\"color:#FFAB70;\" data-v-8c9498c0>--color-black</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>, </span><span style=\"color:#79B8FF;\" data-v-8c9498c0>#000</span><span style=\"color:#E1E4E8;\" data-v-8c9498c0>);</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>  }</span></span>\n<span class=\"line\" data-v-8c9498c0><span style=\"color:#E1E4E8;\" data-v-8c9498c0>}</span></span></code></pre></li></ol>", 7)
function render(_ctx, _cache) {
  return _hoisted_1
}
__sfc__.render = render
__sfc__.__scopeId = "data-v-8c9498c0"
__sfc__.__file = "Note.vue"
exports. default = __sfc__};
window.precompiledFrontMatter = {"title":"Getting Tailwind CSS 4 (alpha 14) to run in the browser","twitter":"https://twitter.com/dtinth/status/1781676761077715126","public":true};
</script>
  </body>
</html>
